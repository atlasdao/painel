(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{646:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4186:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},4750:(e,s,a)=>{"use strict";a.d(s,{A:()=>c,F:()=>i});var t=a(3464),r=a(7383);let l="https://api.atlasdao.info/api/v1",i=t.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let s=r.A.get("access_token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var s;let a=e.config;if((null==(s=e.response)?void 0:s.status)===401&&!a._retry){a._retry=!0;try{let e=r.A.get("refresh_token");if(e){let{accessToken:s}=(await t.A.post("".concat(l,"/auth/refresh"),{refreshToken:e})).data;return r.A.set("access_token",s),r.A.set("refresh_token",e),a.headers.Authorization="Bearer ".concat(s),i(a)}}catch(e){r.A.remove("access_token"),r.A.remove("refresh_token"),window.location.href="/login"}}return Promise.reject(e)});let c=i},4861:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4964:(e,s,a)=>{Promise.resolve().then(a.bind(a,9657))},5339:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9657:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(5155),r=a(2115),l=a(4186),i=a(646),c=a(4861),d=a(5339),o=a(9803);let n=(0,a(9946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var m=a(4750),x=a(3568);function p(){let[e,s]=(0,r.useState)([]),[a,p]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[j,b]=(0,r.useState)({usageReason:"",serviceUrl:"",estimatedVolume:"",usageType:"SINGLE_CPF"});(0,r.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await m.A.get("/api-key-requests/my-requests");s(e.data)}catch(e){console.error("Error fetching requests:",e),x.Ay.error("Erro ao carregar solicita\xe7\xf5es")}finally{p(!1)}},N=async e=>{if(e.preventDefault(),!j.usageReason||!j.serviceUrl||!j.estimatedVolume)return void x.Ay.error("Por favor, preencha todos os campos");h(!0);try{await m.A.post("/api-key-requests",j),x.Ay.success("Solicita\xe7\xe3o enviada com sucesso!"),y(!1),b({usageReason:"",serviceUrl:"",estimatedVolume:"",usageType:"SINGLE_CPF"}),v()}catch(t){var s,a;let e=(null==(a=t.response)||null==(s=a.data)?void 0:s.message)||"Erro ao enviar solicita\xe7\xe3o";x.Ay.error(e)}finally{h(!1)}},f=e.some(e=>"PENDING"===e.status),A=e.some(e=>"APPROVED"===e.status);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.l$,{position:"top-right"}),(0,t.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Chaves de API"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Gerencie suas solicita\xe7\xf5es de chaves de API para integra\xe7\xe3o com sistemas externos"})]}),f&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.A,{className:"text-yellow-400 mt-0.5",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-yellow-400 font-medium",children:"Solicita\xe7\xe3o pendente"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Voc\xea j\xe1 possui uma solicita\xe7\xe3o pendente de aprova\xe7\xe3o. Aguarde a an\xe1lise do administrador."})]})]})}),A&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(i.A,{className:"text-green-400 mt-0.5",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-green-400 font-medium",children:"Chave de API ativa"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Voc\xea j\xe1 possui uma chave de API aprovada e ativa."})]})]})}),!g&&!f&&!A&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("button",{onClick:()=>y(!0),className:"btn-primary flex items-center gap-2",children:[(0,t.jsx)(o.A,{size:20}),"Solicitar Chave de API"]})}),g&&(0,t.jsxs)("div",{className:"card bg-gray-800 border-gray-700 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Nova Solicita\xe7\xe3o de Chave de API"}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Motivo da utiliza\xe7\xe3o da API *"}),(0,t.jsx)("textarea",{className:"input-field bg-gray-700 border-gray-600 text-white",rows:3,placeholder:"Descreva como voc\xea pretende usar a API...",value:j.usageReason,onChange:e=>b({...j,usageReason:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Endere\xe7o do servi\xe7o online *"}),(0,t.jsx)("input",{type:"url",className:"input-field bg-gray-700 border-gray-600 text-white",placeholder:"https://exemplo.com.br",value:j.serviceUrl,onChange:e=>b({...j,serviceUrl:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Estimativa de volume de pagamentos *"}),(0,t.jsx)("input",{type:"text",className:"input-field bg-gray-700 border-gray-600 text-white",placeholder:"Ex: 100-500 transa\xe7\xf5es por m\xeas",value:j.estimatedVolume,onChange:e=>b({...j,estimatedVolume:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tipo de utiliza\xe7\xe3o *"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3 p-3 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"usageType",value:"SINGLE_CPF",checked:"SINGLE_CPF"===j.usageType,onChange:e=>b({...j,usageType:e.target.value}),className:"mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"CPF/CNPJ \xdanico"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Vou centralizar todos os pagamentos em um \xfanico CPF ou CNPJ"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3 p-3 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"usageType",value:"MULTIPLE_CPF",checked:"MULTIPLE_CPF"===j.usageType,onChange:e=>b({...j,usageType:e.target.value}),className:"mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"M\xfaltiplos CPF/CNPJ"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Vou processar pagamentos de diferentes CPF ou CNPJ (marketplace, plataforma, etc)"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{type:"submit",disabled:u,className:"btn-primary flex items-center gap-2",children:[u?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(n,{size:16}),"Enviar Solicita\xe7\xe3o"]}),(0,t.jsx)("button",{type:"button",onClick:()=>y(!1),className:"btn-secondary",children:"Cancelar"})]})]})]}),(0,t.jsxs)("div",{className:"card bg-gray-800 border-gray-700",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hist\xf3rico de Solicita\xe7\xf5es"}),a?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.A,{className:"mx-auto text-gray-600 mb-3",size:48}),(0,t.jsx)("p",{className:"text-gray-400",children:"Nenhuma solicita\xe7\xe3o encontrada"})]}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-gray-900 border border-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium mb-1",children:e.serviceUrl}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["Solicitado em ",new Date(e.createdAt).toLocaleDateString("pt-BR")]})]}),(e=>{switch(e){case"PENDING":return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-yellow-400 bg-yellow-900/20 border border-yellow-500/30 rounded-full",children:[(0,t.jsx)(l.A,{size:12}),"Pendente"]});case"APPROVED":return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-400 bg-green-900/20 border border-green-500/30 rounded-full",children:[(0,t.jsx)(i.A,{size:12}),"Aprovado"]});case"REJECTED":return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-red-400 bg-red-900/20 border border-red-500/30 rounded-full",children:[(0,t.jsx)(c.A,{size:12}),"Rejeitado"]});case"REVOKED":return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-gray-400 bg-gray-900/20 border border-gray-500/30 rounded-full",children:[(0,t.jsx)(c.A,{size:12}),"Revogado"]});default:return null}})(e.status)]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Motivo:"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:e.usageReason})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Volume estimado:"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:e.estimatedVolume})]}),e.usageType&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Tipo de utiliza\xe7\xe3o:"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"SINGLE_CPF"===e.usageType?"CPF/CNPJ \xdanico":"M\xfaltiplos CPF/CNPJ"})]}),e.approvalNotes&&(0,t.jsxs)("div",{className:"mt-3 p-3 bg-gray-800 rounded",children:[(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Observa\xe7\xf5es do administrador:"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:e.approvalNotes})]}),e.approvedAt&&(0,t.jsxs)("p",{className:"text-green-400 text-sm",children:["Aprovado em ",new Date(e.approvedAt).toLocaleDateString("pt-BR")]}),e.rejectedAt&&(0,t.jsxs)("p",{className:"text-red-400 text-sm",children:["Rejeitado em ",new Date(e.rejectedAt).toLocaleDateString("pt-BR")]})]})]},e.id))})]})]})]})}},9803:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])}},e=>{e.O(0,[595,568,441,964,358],()=>e(e.s=4964)),_N_E=e.O()}]);